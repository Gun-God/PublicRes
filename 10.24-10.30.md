# 阅读《Improving Adverse Drug Event Extraction with SpanBERT on Different Text Typologies》：

本文作者提出使用SpanBERT与CRF相结合引入了从不同类型（比如推文和博客文章）的文本中来完成 ADE （不良药物事件）提取任务，SpanBERT是最近提出的 BERT版本，它在多标记文本跨度上显示出改进的能力，例如描述 ADE

## 模型架构
  ![基于流水线的方法](https://raw.githubusercontent.com/Gun-God/PublicRes/main/img/span1.png)
  <br>
## 研究过程
### 数据集、基线、评估指标
 数据集采用SMM4H 和CADEC ，基线BERT 和BERT+CRF ，作为评估指标，我们使用 Strict 和 Partial（也称为 Relaxed）F1Score
### 研究步骤
### 1.Preprocessing（预处理）
每个训练样本最初都附有一个元组列表，这些元组记录了每个 ADE 提及的开始和结束字符，此信息被转换为常用的 IOB（InsideBegin-Outside）注释模式，每个句子都被分成单词，每个单词都用三个字母之一标记
### 2.Subword Tokenization（分词）
基于 BERT 的模型通常采用一种称为 Wordpiece 标记化的标记化方法，它允许对任何单词进行标记化，即使一个词不直接是词汇表的一部分，它也总是可以被拆分成一组属于词汇表的子词。例如，单词“heightened”不是 SpanBERT 词汇表的一部分，但它可以分为三个子词：[“heigh”、“##ten”、“##ed”]（单词可以通过前导#识别） #）
### 3.SpanBERT modeling（建模）
SpanBERT 建模 该架构的第一个实际组件是 SpanBERT 神经网络，由 12 个具有多头注意力的编码器层组成。
### 4.Intermediate label prediction（中间标签预测）
每个标记的嵌入由线性层处理，该层将每个子词标记的嵌入投影到大小为 Improving ADE Extraction with SpanBERT on Different Text Typologies
### 5.Conditional Random Field（条件随机场）
CRF 模块将 SpanBERT 模型生成的概率分布作为输入，并生成另一个子词级 IOB 标签序列
### 6.Label aggregation（标签聚合）
聚合子词级预测以生成可以轻松映射到原始输入序列的词级标签，聚合输出是一系列词级 IOB 标签，可以与预处理输入进行比较或轻松转换为字符级索引

### 实验结果
不同模型在两个数据集上的F1分差别
<br><br>
  ![基于流水线的方法](https://raw.githubusercontent.com/Gun-God/PublicRes/main/img/span2.png)
  <br>
不同模型在两个数据集上的McNemar 检验的 p 值
<br><br>
  ![基于流水线的方法](https://raw.githubusercontent.com/Gun-God/PublicRes/main/img/span3.png)
  <br>
不同模型SMM4H 数据集上的平均文本指标，结果表明
* CRF 的添加增强了模型的性能，而不会改变预测的文本风格
* 将基于 BERT 的架构与基于 SpanBERT 的架构进行比较时，音节数和字符长度有显着差异 。这意味着使用经过跨度知识预训练的模型会影响最终预测的长度。
<br><br>
  ![基于流水线的方法](https://raw.githubusercontent.com/Gun-God/PublicRes/main/img/span4.png)
  <br>

### 结论
SpanBERT 在 Strict 和 Partial F1-score 上获得了具有竞争力的结果，优于所有这些与严格指标的 CRF，与其他方法相比，SpanBERT 更能够对不常见单词的存在和较长的实体提及进行建模。我们的结果显示了模型在不同数据类型上的灵活性，以及​​它在 ADE 跨度边界建模方面的更高准确性。